<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home</title>
  <script src="htmx.min.js"></script>
  <script src="htmx-ws.min.js"></script>
  <link rel="stylesheet" href="tailwind.css" />
</head>

<body class="overflow-hidden">
  <section hx-ext="ws" ws-connect="/ws" class="w-screen h-screen flex flex-col gap-4 p-4">
    <h1 class="font-extrabold text-2xl text-center">Websocket chat</h1>

    <section class="bg-slate-400 p-4 h-2/4 flex flex-col">
      <h3 class="underline text-center text-xl">Notifications</h3>
      <div class="flex flex-col overflow-y-auto flex-grow max-h-48">
        <div id="notifications" hx-swap-oob="beforeend"></div>
      </div>
    </section>

    <section class="bg-slate-400 p-4 h-screen flex overflow-y-auto flex-col max-h-[600px]">
      <h3 class="underline text-center text-xl">Messages</h3>
      <div class="flex-grow overflow-y-auto flex flex-col space-y-2">
        <div id="messages" hx-swap-oob="beforeend"></div>
      </div>
      <form ws-send class="flex w-full mt-2">
        <input type="hidden" name="type" value="chat_message">
        <input type="text" name="content" class="p-2 rounded w-full" placeholder="Enter message" autofocus="true" />
        <button type="submit" class="bg-blue-600 rounded p-2 px-8">Send</button>
      </form>
    </section>

  </section>
</body>

</html>